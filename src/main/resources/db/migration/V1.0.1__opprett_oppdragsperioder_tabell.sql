CREATE TABLE IF NOT EXISTS oppdragsperioder
(
    oppdragsperiode_id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY (INCREMENT 1 START 1 MINVALUE 1),
    oppdrag_id         integer NOT NULL,
    sak_id             integer NOT NULL,
    vedtak_id          integer NOT NULL,
    gjelder_ident      text    NOT NULL,
    mottaker_ident     text    NOT NULL,
    belop              integer NOT NULL,
    valuta             text    NOT NULL,
    periode_fra        date    NOT NULL,
    periode_til        date    NOT NULL,
    vedtaksdato        date    NOT NULL,
    opprettet_av       text    NOT NULL,
    delytelses_id      text    NOT NULL,
    aktiv_til          date,
    erstatter_periode  integer,
    tekst              text,
    CONSTRAINT oppdragsperiode_pkey PRIMARY KEY (oppdragsperiode_id),
    CONSTRAINT oppdragsperiode_oppdrag_fkey FOREIGN KEY (oppdrag_id)
        REFERENCES oppdrag (oppdrag_id) MATCH SIMPLE,
    CONSTRAINT delytelses_id_unique UNIQUE (delytelses_id)
);